{% extends 'home.html' %}

{% block content %}
<div class="container" style="max-width: 600px; margin-top: 150px !important;">
    <!-- Card container for a professional look -->
    <div class="card shadow-lg p-4">
        <h2 class="text-center mb-4" style="font-family: 'Roboto', sans-serif; color: #333;">Edit Customer Profile</h2>

        <!-- Form for editing profile -->
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}


        <!-- Message section -->
        {% if messages %}
            <div class="alert alert-danger alert-dismissible fade show" role="alert">
                <ul class="mb-0">
                    {% for message in messages %}
                        <li>{{ message }}</li>
                    {% endfor %}
                </ul>
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
        {% endif %}



            <!-- User Form Fields -->
            <h5 class="text-secondary mt-3">Account Details</h5>
            <hr>
            <div class="table-responsive mb-3">
                <table class="table table-borderless">
                    {% for field in user_form %}
                    <tr>
                        <td class="text-end align-middle col-4"><label for="{{ field.id_for_label }}" class="font-weight-bold">{{ field.label_tag }}</label></td>
                        <td>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="fas fa-user" style="color: var(--button-color);"></i></span>
                                </div>
                                {{ field }}
                            </div>
                        </td>
                    </tr>
                    {% endfor %}
                </table>
            </div>

            <!-- Profile Form Fields -->
            <h5 class="text-secondary mt-3">Profile Details</h5>
            <hr>
            <div class="table-responsive mb-3">
                <table class="table table-borderless">
                    {% for field in profile_form %}
                    <tr>
                        <td class="text-end align-middle col-4"><label for="{{ field.id_for_label }}" class="font-weight-bold">{{ field.label_tag }}</label></td>
                        <td>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="fas fa-address-card" style="color: var(--button-color);"></i></span>
                                </div>
                                {{ field }}
                            </div>
                        </td>
                    </tr>
                    {% endfor %}
                </table>
            </div>

            <!-- Password Form Fields -->
            <h5 class="text-secondary mt-3">Update Password</h5>
            <hr>
            <div class="table-responsive mb-3">
                <table class="table table-borderless">
                    {% for field in password_form %}
                    <tr>
                        <td class="text-end align-middle col-4"><label for="{{ field.id_for_label }}" class="font-weight-bold">{{ field.label_tag }}</label></td>
                        <td>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="fas fa-lock" style="color: var(--button-color);"></i></span>
                                </div>
                                {{ field }}
                            </div>
                        </td>
                    </tr>
                    {% endfor %}
                </table>
            </div>

            <!-- Submit Button -->
            <div class="d-grid gap-2 mt-4">
                <button type="submit" class="btn btn-primary">Save Changes</button>
            </div>
        </form>
    </div>
</div>

<!-- Custom Styles -->
<style>
    body {
        background-color: #f7f9fc;
    }
    .card {
        border-radius: 10px;
    }
    .btn-primary {
        background-color: var(--button-color);
        border: none;
        padding: 10px 20px;
        font-size: 1.1rem;
        border-radius: 50px;
        width: 100%;
    }
    .btn-primary:hover {
        background-color: var(--button-color);
        opacity:0.9;
    }
    .input-group-text {
        background-color: #f1f3f5;
        border-right: 0;
    }
    .input-group-text i {
        color: #00796b;
    }
</style>
{% endblock %}
